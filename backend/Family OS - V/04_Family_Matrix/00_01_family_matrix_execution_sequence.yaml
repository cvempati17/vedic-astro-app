family_matrix_execution_sequence:

  metadata:
    file: 00_01_family_matrix_execution_sequence.yaml
    version: "1.1.0"
    locked: true
    purpose: >
      Defines the immutable execution order for
      Family Matrix analysis and controlled overlays.

  sequence:

    # --------------------------------------------------
    # BASE STRUCTURE & DEPENDENCIES
    # --------------------------------------------------
    - step: 01
      file: 01_01_family_matrix_engine_planet_chart_dependency.yaml

    - step: 02
      file: 02_01_family_matrix_engine.yaml

    - step: 03
      file: 03_01_family_matrix_aspect_modifiers.yaml

    - step: 04
      file: 04_01_family_matrix_planetary_strength_scoring.yaml

    - step: 05
      file: 05_01_family_matrix_planetary_strength_aspect_modifiers.yaml

    - step: 06
      file: 06_01_family_matrix_engine_aspect_modifiers.yaml

    # --------------------------------------------------
    # OUTPUT SHAPE (BASELINE)
    # --------------------------------------------------
    - step: 07
      file: 07_01_family_matrix_output_contract.yaml

    - step: 08
      file: 99_01_family_matrix_output_validator.yaml

    # --------------------------------------------------
    # TEMPORAL OVERLAY
    # --------------------------------------------------
    - step: 09
      file: 55_01_family_matrix_time_evolution_overlay.yaml

    # --------------------------------------------------
    # INTERVENTION GATE (NEW â€” GOVERNANCE ONLY)
    # --------------------------------------------------
    - step: 10
      file: 56_01_family_matrix_intervention_gate.yaml

    # --------------------------------------------------
    # OPTIONAL INTERVENTION OVERLAYS (GATED)
    # --------------------------------------------------
    - step: 11
      file: 02_03_family_matrix_conflict_repair_overlay.yaml
      condition: gate_allows_conflict_repair

    - step: 12
      file: 02_04_family_matrix_emotional_risk_overlay.yaml
      condition: gate_allows_emotional_risk

    # --------------------------------------------------
    # INTERPRETATION LAYER
    # --------------------------------------------------
    - step: 13
      file: 08_01_family_matrix_interpretation_engine.yaml

    - step: 14
      file: 08_02_family_matrix_interpretation_templates.yaml

    - step: 15
      file: 08_03_family_matrix_interpretation_validator.yaml
