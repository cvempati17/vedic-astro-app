
# =========================================================
# ASTROGRAVITY BUSINESS PARTNERSHIP RULES — v5.0
# =========================================================
# This file MERGES:
# 1) Core Engine: astrogravity_rules_v4.yaml (IMMUTABLE LOGIC)
# 2) Domain Module: Business Partnership (v2 logic)
# =========================================================

# -------------------------
# CORE ENGINE (IMPORTED)
# -------------------------

engine:
  name: astrogravity_business_engine
  version: 3.1
  philosophy:
    astrology_role: scoring_signal
    prediction: false
    explainable: true
    ai_ready: true
    learning_enabled: true

score_scale:
  min: 0
  max: 10

# =====================================================
# GLOBAL WEIGHTS
# =====================================================
weights:
  promise: 0.40
  activation: 0.20
  timing: 0.20
  partnership: 0.15
  learning_adjustment: 0.05

# =====================================================
# HOUSES
# =====================================================
houses:
  1: { name: identity, weight: 0.05 }
  2: { name: capital, weight: 0.10 }
  3: { name: communication, weight: 0.03 }
  4: { name: foundation, weight: 0.04 }
  5: { name: creativity, weight: 0.05 }
  6: { name: operations, weight: 0.12 }
  7: { name: partnership, weight: 0.15 }
  8: { name: risk, weight: 0.06 }
  9: { name: vision, weight: 0.05 }
  10:{ name: authority, weight: 0.20 }
  11:{ name: scale, weight: 0.18 }
  12:{ name: loss, weight: 0.02 }

# =====================================================
# RASHIS (MODIFIERS)
# =====================================================
rashis:
  aries:        { execution: +1.0, volatility: +0.5 }
  taurus:       { stability: +1.5 }
  gemini:       { intellect: +1.2, volatility: +0.5 }
  cancer:       { emotional_bias: +0.6 }
  leo:          { authority: +1.5, ego_risk: +0.5 }
  virgo:        { execution: +1.5 }
  libra:        { partnership: +1.5 }
  scorpio:      { risk: +1.0 }
  sagittarius:  { vision: +1.2 }
  capricorn:    { stability: +2.0 }
  aquarius:     { innovation: +1.5, volatility: +1.0 }
  pisces:       { diffusion: -1.0 }

# =====================================================
# PLANETS
# =====================================================
planets:
  sun:     { function: authority, base: 1.2 }
  moon:    { function: stability, base: 0.8 }
  mars:    { function: execution, base: 1.1 }
  mercury: { function: intellect, base: 1.0 }
  jupiter: { function: expansion, base: 1.3 }
  venus:   { function: harmony, base: 0.9 }
  saturn:  { function: discipline, base: 1.4 }
  rahu:    { function: ambition, base: 1.2 }
  ketu:    { function: detachment, base: 0.6 }

# =====================================================
# AVASTHA + COMBUSTION
# =====================================================
avastha:
  exalted: 1.5
  own: 1.3
  friendly: 1.1
  neutral: 1.0
  debilitated: 0.6

combustion:
  orbs:
    mercury: 14
    venus: 10
    mars: 17
    jupiter: 11
    saturn: 15
  penalty: -1.0
  mitigation:
    exalted: +0.3
    own_sign: +0.2
    jupiter_aspect: +0.4

# =====================================================
# ASPECTS (ORB GRADED)
# =====================================================
aspects:
  conjunction: { max_orb: 8, weight: 1.0 }
  opposition:  { max_orb: 8, weight: -0.8 }
  trine:       { max_orb: 7, weight: 0.8 }
  square:      { max_orb: 6, weight: -0.7 }
  sextile:     { max_orb: 5, weight: 0.6 }

aspect_strength_formula: |
  strength = (1 - (orb / max_orb)) * aspect.weight

# =====================================================
# PLANETARY PHASES
# =====================================================
planetary_phases:
  waxing:   { multiplier: 1.1 }
  waning:   { multiplier: 0.9 }
  retrograde:{ multiplier: 0.7, flag: review_mode }

# =====================================================
# HOUSE–PLANET MATRIX
# =====================================================
house_planet_matrix:
  sun:     { 10: +2.0, 7: +1.0, 6: -0.5 }
  mars:    { 6: +1.5, 10: +1.0, 7: -1.0 }
  mercury: { 2: +1.0, 11: +1.5 }
  saturn:  { 10: +2.0, 6: +1.0, 7: -1.2 }

# =====================================================
# ROLE AXES
# =====================================================
role_axes:
  vision:       [sun, jupiter, rahu]
  execution:    [mars, saturn]
  integration:  [venus, moon]
  intellect:    [mercury]
  risk:         [mars, rahu, saturn]

roles:
  strategic_founder:
    min_scores: { vision: 7, authority: 6 }
  operating_partner:
    min_scores: { execution: 7, discipline: 6 }
  idea_partner:
    min_scores: { intellect: 7, vision: 6 }
  advisory:
    max_execution: 4

# =====================================================
# PARTNERSHIP ENGINE
# =====================================================
partnership:
  synergy_rules:
    complementary_roles: +2.0
    shared_growth_axis: +1.5
  friction_rules:
    authority_overlap: -1.5
    mars_saturn_conflict: -1.2
  dependency_penalty: -2.0

compatibility_formula: |
  compatibility =
    (synergy_score * 0.5) +
    (role_fit_score * 0.3) -
    (friction_score * 0.2)

# =====================================================
# COMPOSITE CHART ENGINE
# =====================================================
composite_engine:
  method: midpoint
  planets_included: [sun, moon, mars, mercury, jupiter, venus, saturn]
  scoring_rules:
    sun_10th: +2.5
    mars_6th: +1.5
    saturn_7th: -1.5
    jupiter_11th: +2.0

# =====================================================
# TIME SERIES ENGINE
# =====================================================
time_series:
  granularity: monthly
  horizon_months: 24
  drift:
    activation_decay: -0.05
    synergy_growth: +0.03
    friction_growth: -0.04

# =====================================================
# LEARNING ENGINE
# =====================================================
learning_engine:
  enabled: true
  inputs: [revenue_growth, execution_consistency, conflict_events]
  adjustment:
    success:
      condition: "revenue_growth > threshold AND conflict_events low"
      weight_shift: { partnership: +0.03 }
    failure:
      condition: "conflict_events high"
      weight_shift: { partnership: -0.03 }

# =====================================================
# GATES
# =====================================================
gates:
  min_promise: 4.0
  min_compatibility: 50


# -------------------------
# DOMAIN MODULE: BUSINESS PARTNERSHIP
# -------------------------

engine_extension:
  domain: Business Partnership
  version: 5.0
  philosophy: Deterministic, explainable decision intelligence
  audiences: [non_astrologer, learner, expert]

scoring_dimensions:
  promise: { weight: 0.35 }
  activation: { weight: 0.30 }
  stability: { weight: 0.25 }
  timing: { weight: 0.10 }

domain_houses:
  7:
    name: Partnership
    weight: 3
    indicators: [Venus, Jupiter]
  6:
    name: Execution & Conflict
    weight: 2
    indicators: [Mars, Saturn]
  10:
    name: Authority & Career
    weight: 2
    indicators: [Sun, Saturn]
  11:
    name: Gains & Network
    weight: 1.5
    indicators: [Jupiter, Mercury]

domain_planets:
  Venus:
    function: harmony, contracts, value
    base_weight: 2.0
  Mars:
    function: execution, aggression
    base_weight: 1.5
  Saturn:
    function: discipline, delay, structure
    base_weight: 2.0
  Jupiter:
    function: wisdom, ethics, expansion
    base_weight: 1.5

avastha_weights:
  exalted: 2.0
  own: 1.5
  friendly: 1.2
  neutral: 1.0
  debilitated: 0.5

aspect_logic:
  conjunction:
    strong: { orb: "0-3", points: 2 }
    medium: { orb: "3-6", points: 1 }
    weak: { orb: "6-8", points: 0.5 }
  opposition:
    strong: { orb: "0-4", points: -2 }
    medium: { orb: "4-7", points: -1 }
    weak: { orb: "7-9", points: -0.5 }

combustion_rules:
  Venus:
    orb: 10
    penalty: -1.5
    mitigation: "Reduce by 50% if benefic aspect present"
  Mars:
    orb: 8
    penalty: -1

role_matrix:
  Negotiator:
    planets: [Venus, Mercury]
    threshold: 6
  Executor:
    planets: [Mars, Saturn]
    threshold: 6
  Strategist:
    planets: [Jupiter, Mercury]
    threshold: 6

conflict_indicators:
  - description: "High conflict risk"
    condition: "Mars afflicted in 7th"
  - description: "Partnership strain"
    condition: "Saturn aspects 7th without Jupiter relief"

time_series:
  projection_months: [0,12,24]
  improvement_triggers:
    - "Jupiter transit over 7th or 11th"
  risk_triggers:
    - "Saturn transit over 7th"
    - "Afflicted Mars dasha"

verdict_logic:
  GO:
    compatibility: ">=70"
    stability: ">=6"
  EXPERIMENT:
    compatibility: "55-69"
  NO_GO:
    compatibility: "<55"

explainability_template:
  table_columns: [Factor, Astrological_Cause, Condition, Points]


# =========================================================
# BUSINESS PARTNERSHIP v6.1 EXTENSIONS (ADDITIVE ONLY)
# =========================================================

participants:
  model:
    base_person: single
    partners: multi_select
  notes: >
    Base person is the reference individual.
    Partners are evaluated individually, then via synergy,
    then as a group composite. No averaging shortcuts allowed.

evaluation_pipeline:
  - individual_scoring
  - pairwise_synergy
  - group_composite

explainability:
  why_tables:
    columns:
      - Person
      - Dimension
      - Factor
      - Astrological_Cause
      - Condition
      - Points
    rules:
      individual_first: true
      synergy_rows_required: true

role_engine_v2:
  output_format: table
  columns: [Person, Role, Role_Score]
  assignment_rule: highest_scoring_role
  conflict_flagging: true

time_horizon_v2:
  total_years: 30
  interval_years: 5
  x_axis_years: [0,5,10,15,20,25,30]
  y_axis_metric: composite_score
  rules:
    preserve_existing_timing_logic: true
    extend_projection_only: true

synergy_logic:
  evaluation_type: pairwise
  aggregation: weighted_sum
  examples:
    - condition: Mars hard aspect Mars
      impact: -1.5
      reason: execution_conflict
    - condition: Venus supports Jupiter
      impact: +2.0
      reason: value_ethics_alignment

confidence_engine_v2:
  methodology: variance_based
  inputs:
    - individual_score_spread
    - synergy_stability
    - time_consistency
  outputs:
    bands: [High, Medium, Low]

# END OF v6.1 EXTENSIONS
